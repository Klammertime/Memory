"use strict";var sources=[],deck=[],image={},Card,card,flipped,matched;Card=function(e,t,r){this.category=e,this.file=t,this.alt=r},card=new Card("robots","img/robots/robots2.svg","robot2"),Card.prototype.createSources=function(e){var t,r;sources=[];for(var a=1;9>a;a++)t="img/"+e+"/"+e+a+".svg",r=e+a,sources.push(new Card(e,t,r))},card.createSources("robots"),Array.prototype.shuffle=function(){var e,t=this.length;if(0===t)return this;for(;--t;){e=Math.floor(Math.random()*(t+1));var r=[this[e],this[t]];this[t]=r[0],this[e]=r[1]}return this},deck=[],image={},Card.prototype.initGame=function(){for(var e=0;e<sources.length;e++)deck.push(e),deck.push(e);deck.shuffle();for(var t=0;t<2*sources.length;t++)image["card_"+t]=deck[t]},flipped=null,matched=0,card.initGame(),Card.prototype.flipBack=function(e){document.getElementById(e).alt="back",document.getElementById(e).src="img/electronicons/electronicons1.svg"},Card.prototype.vanish=function(e){document.getElementById(e).className="matched"},Card.prototype.flipCard=function(e){if("card"===e.target.className&&"back"===e.target.alt){var t=image[e.target.id];e.target.src=sources[t].file,e.target.alt=sources[t].alt,flipped?image[flipped]===image[e.target.id]?(card.vanish(flipped),card.vanish(e.target.id),flipped=null,matched++,matched===sources.length&&(document.getElementById("board").className="win",document.getElementById("message").textContent="All matched!")):(document.getElementById("board").removeEventListener("click",card.flipCard,!1),setTimeout(function(){card.flipBack(flipped),flipped=null,card.flipBack(e.target.id),document.getElementById("board").addEventListener("click",card.flipCard,!1)},1e3)):flipped=e.target.id}},Card.prototype.changeCardBack=function(e){var t="img/"+e+"/"+e+"1.svg",r=document.querySelectorAll("img.card"),a=Array.prototype.slice.call(r);a.forEach(function(e,r,a){e.src=t})},document.getElementById("board").addEventListener("click",card.flipCard,!1),Card.prototype.handleDragStart=function(e){this.createSources(e.target.id)},Card.prototype.handleDragDrop=function(e){e.preventDefault&&e.preventDefault()},Card.prototype.handleDragOver=function(e){return e.preventDefault&&e.preventDefault(),!1},document.getElementById("cardCategories").addEventListener("dragstart",function(e){card.handleDragStart(e)},!1),document.getElementById("board").addEventListener("dragover",card.handleDragOver,!1),document.getElementById("board").addEventListener("drop",card.handleDragDrop,!1);